# Frostbound: Chronicles of the Silent North
## Рабочая документация проекта

## Видение продукта
Кооперативная RPG в арктическом сеттинге. Основной цикл: исследование → крафт → выживание → прогресс.

## Платформы и распространение
### Основные платформы (Day 1)
- **PC:** Steam (глобально), Epic Games Store (США, Европа), VK Play (Россия, СНГ)
- **Консоли:** PlayStation 5 (Северная Америка, Европа, Азия), Xbox Series X/S (Северная Америка, Европа)

### Страны распространения
**Первоочередной запуск:**
- Северная Америка: США, Канада
- Европа: Германия, Великобритания, Франция, Польша, Испания
- Азия: Япония, Южная Корея, Китай (через местных издателей)
- СНГ: Россия, Украина, Казахстан, Беларусь

**Второй этап:**
- Латинская Америка: Бразилия, Мексика
- Юго-Восточная Азия: Сингапур, Таиланд
- Австралия и Новая Зеландия

## Монетизация
### Модель монетизации
- **Base game:** Premium модель (предварительные продажи + пост-релизные продажи)
- **In-game purchases:** Косметические предметы, скины оружия, эмоции
- **DLC/Expansions:** Дополнительные зоны, сюжетные линии, классы (пост-релиз)

### Платежные системы
**Глобальные:**
- Steam Wallet, Epic Games Store
- PlayStation Store, Microsoft Store
- PayPal, Credit Cards (Visa, MasterCard)

**Региональные:**
- **Россия/СНГ:** Qiwi, YooMoney, Сбербанк Онлайн, Тинькофф
- **Китай:** Alipay, WeChat Pay, UnionPay
- **Европа:** SOFORT, Giropay, iDEAL
- **Латинская Америка:** Boleto Bancário, OXXO

### Обоснование монетизации
- Premium модель сохраняет баланс и избегает pay-to-win критики
- Косметические предметы не влияют на геймплей, поддерживают долгосрочный интерес
- Региональные платежные системы увеличивают конверсию в целевых рынках

## Система безопасности и античит

### Античит система
**Технология:** Кастомная система на основе EAC (EasyAntiCheat) с дополнительными модулями
- **Паттерн-анализ:** Детектирование аномалий в игровых данных
- **Поведенческий анализ:** Машинное обучение для выявления подозрительных действий
- **Memory scanning:** Поиск инжектов и модификаций в реальном времени

**Защита от читов:**
- **Aimbot protection:** Серверная валидация прицеливания
- **Speed hack detection:** Контроль скорости перемещения на стороне сервера
- **Wallhack prevention:** Серверный расчет видимости объектов
- **Inventory validation:** Проверка целостности инвентаря

### Защита от взлома
**Клиентская защита:**
- **Code obfuscation:** Защита исходного кода от реверс-инжиниринга
- **Anti-debugging:** Защита от отладчиков и анализа памяти
- **Integrity checks:** Проверка целостности игровых файлов
- **Encrypted communications:** Шифрование сетевого трафика

**Серверная защита:**
- **Input validation:** Валидация всех входящих данных от клиента
- **Rate limiting:** Ограничение частоты запросов
- **Behavioral analysis:** Анализ паттернов поведения игроков
- **Session security:** Защита сессий от перехвата

### Обоснование системы безопасности
- **Сохраняет честность геймплея:** Критически важно для кооперативной RPG
- **Защита инвестиций игроков:** Предотвращение краж аккаунтов и предметов
- **Поддержка конкурентной среды:** Обеспечение равных условий для всех игроков
- **Соответствие требованиям платформ:** Необходимо для сертификации на консолях

## Интеграция и окружение
### База данных
**Основная БД:** PostgreSQL 15
- **Обоснование:** Надежность, поддержка JSONB для гибкости игровых данных, открытая лицензия
- **Кластер:** Master-Slave репликация для отказоустойчивости
- **Бэкапы:** Ежечасные инкрементальные + ежедневные полные

**Кэширование:** Redis 7
- **Назначение:** Сессии игроков, инвентарь, временные данные
- **Конфигурация:** Redis Cluster с шардированием

### Бэкенд архитектура
**Микросервисы:**
- **Auth Service:** Аутентификация и авторизация
- **Game Service:** Игровая логика и состояние мира
- **Inventory Service:** Управление инвентарем и предметами
- **Payment Service:** Обработка платежей и транзакций
- **Matchmaking Service:** Поиск и создание игровых сессий
- **Security Service:** Мониторинг безопасности и античит

**Технологический стек:**
- **Язык:** Go 1.21 (высокая производительность, простота поддержки)
- **Протокол:** gRPC для внутренней коммуникации, REST API для клиентов
- **Очереди:** Apache Kafka для асинхронных операций

### Инфраструктура
**Хостинг:** AWS (Amazon Web Services)
- **Compute:** EC2 (игровые сервера), ECS (микросервисы)
- **Базы данных:** RDS PostgreSQL, ElastiCache Redis
- **CDN:** CloudFront для распространения контента
- **Monitoring:** CloudWatch, Prometheus + Grafana

**Серверная архитектура:**
- **Игровые сервера:** Выделенные сервера (dedicated servers)
- **Регионы:** Северная Америка (us-east-1), Европа (eu-west-1), Азия (ap-northeast-1)
- **Масштабирование:** Auto Scaling Groups based on player load

## Дорожная карта релизов
### Q1: Базовый функционал
- Вертикальный срез - одна зона
- Базовое выживание (тепло, голод)
- 1 тип врагов
- Кооп на 2 игроков

### Q2: Основной игровой цикл
- Альфа - 3 зоны
- Полная система крафта
- 3 архетипа классов
- Первый босс

### Q3: Контент и полировка
- Бета - сюжетная кампания
- Побочные квесты
- Динамические события
- Доработка UI/UX

### Q4: Подготовка к релизу
- Золотая версия
- Оптимизация производительности
- Балансировка
- Исправление багов

## Обоснование дорожной карты разработки
### Квартал 1: Фундамент и Прототип
**Техническое обоснование:**
- Приоритет сетевой синхронизации обусловлен архитектурными требованиями кооперативного геймплея
- Вертикальный срез необходим для валидации core loop до начала полномасштабной разработки
- Базовые системы выживания требуют интеграции с сетевым кодом на раннем этапе

**Бизнес-обоснование:**
- Снижение рисков через раннее тестирование ключевых механик
- Возможность привлечения издателей на основе работающего прототипа
- Формирование комьюнити вокруг gameplay-демо

### Квартал 2: Базовый геймплей и цикл выживания
**Техническое обоснование:**
- Система крафта строится на основе готовой базы ресурсов из Q1
- Добавление зон требует готовой сетевой инфраструктуры
- Прогрессия персонажа интегрируется с существующими механиками выживания

**Бизнес-обоснование:**
- Альфа-версия позволяет начать закрытое бета-тестирование
- Накопление контента для демонстрации игрового цикла
- Проверка баланса и метрик удержания игроков

### Квартал 3: Контент и полировка  
**Техническое обоснование:**
- Сценарии и квесты требуют стабильной работы всех основных систем
- Динамические события строятся на отлаженной сетевой синхронизации
- UI/UX доработки основываются на фидбеке альфа-тестеров

**Бизнес-обоснование:**
- Подготовка к массовому маркетингу на основе полного игрового опыта
- Тестирование монетизационных моделей
- Формирование финального positioning для издания

### Квартал 4: Балансировка и релиз
**Техническое обоснование:**
- Оптимизация требует полного набора контента и фич
- Балансировка классов возможна только после сбора статистики из бета-тестов
- Исправление багов приоритизируется на основе данных тестирования

**Бизнес-обоснование:**
- Соответствие требованиям платформ для сертификации
- Подготовка инфраструктуры для запуска и поддержки
- Координация с издателями и маркетинговой кампанией

### Критические зависимости
1. Сетевая архитектура → Кооперативный геймплей → Контент
2. Базовые механики → Системы прогрессии → Балансировка  
3. Core loop → Контент production → Маркетинг

### Риски сроков
- **Высокий риск:** Сетевая синхронизация (Q1) - требует раннего прототипирования
- **Средний риск:** Балансировка классов (Q4) - зависит от длительности бета-тестов
- **Низкий риск:** Контент production (Q3) - масштабируемая параллельная разработка

## Текущий спринт #14
**Цель:** Реализовать систему крафта v1

| Задача | Исполнитель | Story Points | Статус |
|--------|-------------|--------------|---------|
| Реализация UI крафта | UI команда | 5 | В работе |
| Настройка базы ресурсов | Бэкенд | 3 | Готово |
| Логика системы рецептов | Геймплей | 8 | В плане |
| Размещение станций крафта | Левел-дизайн | 3 | В плане |

**Емкость спринта:** 19 SP

## Технические спецификации
### Система выживания
#### Тепло
- **Базовая трата:** 1%/сек в метель
- **В укрытии:** 0%/сек  
- **У источника огня:** +2%/сек восстановление

#### Выносливость
- **Бег:** 2x трата
- **Боевые действия:** переменная трата
- **Отдых:** 2x восстановление

### Архетипы классов
1. **Следопыт** - Следопытство, охота, мобильность
2. **Маг** - Стихийная магия, лечение, баффы
3. **Инженер** - Крафтинг, ловушки, защита базы

### Требования к интерфейсу
#### HUD (Head-Up Display)
- **Индикаторы состояния:** Здоровье, тепло, выносливость, голод
- **Миникарта:** Динамическая с отображением союзников и точек интереса
- **Быстрый доступ:** 6 слотов для предметов и способностей
- **Индикатор комбо-атак:** Визуализация готовности комбинированных способностей

#### Интерфейс инвентаря
- **Сетка:** 8x6 слотов с категоризацией
- **Быстрая сортировка:** По типу, редкости, весу
- **Сравнение предметов:** Визуальное выделение статов
- **Крафтинг панель:** Drag & Drop система рецептов

#### Кооперативные элементы
- **Панель группы:** Состояние партнера (здоровье, активные эффекты)
- **Маркеры взаимодействия:** Визуальные подсказки для совместных действий
- **Система маркеров:** Тактическое обозначение целей

#### Настройки UX
- **Масштабирование интерфейса:** 80%-120%
- **Цветовые схемы:** Стандартная, для дальтоников, темная
- **Кастомизация HUD:** Перемещение элементов, отключение ненужных

## Локализация и региональные особенности
### Поддерживаемые языки (Day 1)
- Английский, Русский, Немецкий, Французский, Китайский (упрощенный)

### Языки (Phase 2)
- Японский, Корейский, Испанский, Польский

### Региональные требования
**Китай:**
- Отдельная версия через местного издателя
- Модерация контента
- Интеграция с социальными сетями

**Европа:**
- Поддержка GDPR
- Мультиязычные сервера
- Локализованная поддержка

**Россия/СНГ:**
- Локализованные цены
- Поддержка местных платежных систем
- Интеграция с VK

## Структура команды
### Разработческие группы
- **Основные системы** (5 чел) - Сеть, ИИ, Прогрессия
- **Контент** (7 чел) - Левел-дизайн, Квесты, Нарратив
- **Технические художники** (3 чел) - Пайплайн, Оптимизация, VFX
- **UI/UX команда** (4 чел) - Интерфейсы, UX дизайн, Анимация UI
- **Бэкенд/DevOps** (4 чел) - Сервера, Базы данных, Инфраструктура
- **Безопасность** (3 чел) - Античит, Защита от взлома, Мониторинг
- **QA** (4 чел) - Автоматизация, Совместимость, Плейтесты
- **Локализация** (2 чел) - Перевод, культурная адаптация

## Реестр рисков
| Риск | Влияние | Вероятность | Меры |
|------|---------|-------------|------|
| Проблемы синхронизации сети | Высокое | Средняя | Резервные серверы |
| Разрастание объема контента | Среднее | Высокая | Контроль объема спринтов |
| Обход античит системы | Высокое | Средняя | Постоянные обновления, ML-анализ |
| Задержки локализации | Среднее | Средняя | Ранний старт перевода |
| Региональные ограничения | Высокое | Низкая | Работа с локальными издателями |
| Сложность UI/UX | Среднее | Высокая | Прототипирование и юзабилити-тесты |
| Проблемы платежных систем | Высокое | Средняя | Мульти-провайдерная интеграция |

## Definition of Done
- [ ] Код проверен и вмержен
- [ ] Автотесты проходят
- [ ] Целевые показатели достигнуты
- [ ] Проверено QA
- [ ] UI/UX соответствует требованиям
- [ ] Интеграция с платежными системами протестирована
- [ ] Тесты безопасности пройдены
- [ ] Документация обновлена
- [ ] Локализация завершена для целевых регионов

### Критерии этапов
- **Альфа:** Все системы работают, 50% контента, базовый UI
- **Бета:** Функционально полно, контент готов, полированный UI
- **Release Candidate:** Нет критических багов, локализация завершена, UI финализирован

---
*Версия документа: 1.3 | Обновлено: 2025-41*